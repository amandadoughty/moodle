define ("block_culcourse_listing/course_list",["jquery","core/ajax","core/templates","core/notification","core/str","core/url","core/yui","core/modal_factory","core/modal_events","core/key_codes","block_culcourse_listing/course"],function(a,b,c,d,e,f,g,h,i,j,k){var l={HIDE:"hide",FILTERON:"filter-on",FILTEROFF:"filter-off"},m={CATEGORYNOTMANAGED:".culcategory:not(.manage)",COURSEBOXLIST:".block_culcourse_listing  .course_category_tree",COURSEBOX:".culcoursebox",COURSEBOXLISTCOURSEBOX:".course_category_tree .culcoursebox",FAVOURITELIST:".favourite_list",FAVOURITECOURSEBOX:".favourite_list .culcoursebox",FILTERLIST:"#culcourse_listing_filter .select",FILTERALERT:".block_culcourse_listing .course_category_tree .divalert"},n=function(){k.initializer()},o=function(a,b){var c=g.all(m.FILTERLIST),d=c.get("value")[0],e=c.get("value")[1],f=M.util.get_string("all","block_culcourse_listing");d=d==f||0==b.filterbyyear?!1:d;e=e==f||0==b.filterbyperiod?!1:e;M.util.set_user_preference(a.target.get("id"),a.target.get("value"));var h=g.one(m.COURSEBOXLIST);if(!1==d&&!1==e){h.removeClass(l.FILTERON);h.addClass(l.FILTEROFF)}else{h.removeClass(l.FILTEROFF);h.addClass(l.FILTERON);var i=g.one(m.FILTERALERT),j="";if(!1!=d){j=d}if(!1!=d&&!1!=e){j=j+M.util.get_string("and","block_culcourse_listing")}if(!1!=e){j=j+M.util.get_string(e,"block_culcourse_listing")}j=M.util.get_string("divalert","block_culcourse_listing",j);i.set("innerHTML",j)}var k=g.all(m.COURSEBOXLISTCOURSEBOX),n=g.all(m.CATEGORYNOTMANAGED);k.removeClass(l.HIDE);n.removeClass(l.HIDE);k.setStyle("display","block");n.setStyle("display","none");var o=function(a){var b=g.Array(a.getData("year")),c=g.Array(a.getData("period"));if(d&&d!=b){a.setStyle("display","none")}if(e&&e!=c){a.setStyle("display","none")}},p=function(a){var b=g.Array(a.getData("year")),c=g.Array(a.getData("period"));if(d&&d!=b){a.setStyle("display","none")}if(e&&e!=c){a.setStyle("display","none")}};if("regex"==b.filtertype){k.each(o)}else if("date"==b.filtertype){k.each(p)}n.each(function filtercategory(a){var b=a.all(m.COURSEBOX);b.each(function(b){if("none"!==b.getStyle("display")){a.setStyle("display","block")}})})};return{initializer:function initializer(a){n();var b=g.one(g.config.doc);b.delegate("change",o,m.FILTERLIST,this,a)}}});
//# sourceMappingURL=course_list.min.js.map
