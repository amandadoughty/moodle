define(["jquery","core/ajax","core/notification"],function(a,b,c){var d={OPENALLLINK:"a#toggles-all-opened",CLOSEALLLINK:"a#toggles-all-closed",SECTIONBODY:".sectionbody"},e=function(b){b.preventDefault(),a("ul.culcourse").find(".collapse").collapse("show")},f=function(b){b.preventDefault(),a("ul.culcourse").find(".collapse").collapse("hide")},g=function(d){var e=a(d.currentTarget).data("preference-key"),f={methodname:"core_user_update_user_preferences",args:{preferences:[{type:"format_culcourse_"+e,value:1}]}};b.call([f])[0].fail(c.exception)},h=function(d){var e=a(d.currentTarget).data("preference-key"),f={methodname:"core_user_update_user_preferences",args:{preferences:[{type:"format_culcourse_"+e,value:0}]}};b.call([f])[0].fail(c.exception)};return{init:function(){var b=a("body");b.delegate(d.OPENALLLINK,"click",e),b.delegate(d.CLOSEALLLINK,"click",f),b.delegate(d.SECTIONBODY,"hide.bs.collapse",h),b.delegate(d.SECTIONBODY,"show.bs.collapse",g)}}});