define(["jquery","core/ajax","core/config","core/notification"],function(a,b,c,d){var e={OPENALLLINK:"a#toggles-all-opened",CLOSEALLLINK:"a#toggles-all-closed",SECTIONBODY:".sectionbody"},f=c.wwwroot+"/course/format/culcourse/setuserpreference.php",g=function(b){b.preventDefault(),a("ul.culcourse").find(".collapse").collapse("show")},h=function(b){b.preventDefault(),a("ul.culcourse").find(".collapse").collapse("hide")},i=function(b){var d=a(b.currentTarget).data("preference-key"),e={type:d,value:1,sesskey:c.sesskey},g={type:"POST",dataType:"json",data:e};a.ajax(f,g)},j=function(b){var d=a(b.currentTarget).data("preference-key"),e={type:d,value:0,sesskey:c.sesskey},g={type:"POST",dataType:"json",data:e};a.ajax(f,g)};return{init:function(){var b=a("body");b.delegate(e.OPENALLLINK,"click",g),b.delegate(e.CLOSEALLLINK,"click",h),b.delegate(e.SECTIONBODY,"hide.bs.collapse",j),b.delegate(e.SECTIONBODY,"show.bs.collapse",i)}}});