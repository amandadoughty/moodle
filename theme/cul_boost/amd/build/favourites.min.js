define(["jquery","core/ajax","core/templates","core/notification","core/str","core/url","core/yui","core/pubsub","core_course/events"],function(n,e,o,r,t,u,c,i,a){"use strict";function s(){n.ajax({url:f,success:function(e){var o=n("#theme_cul_boost_myfavourites");if(o&&o.remove(),e){var r=n.parseHTML(e);n(".navbar .nav-wrap .nav-inner >a.nav-item").after(r)}},error:function(){},complete:function(){}}).fail(r.exception)}var f=M.cfg.wwwroot+"/theme/cul_boost/favourites_ajax.php";return{init:function(){c.use("node",function(){c.Global.on("culcourse-listing:update-favourites",s)}),i.subscribe(a.favourited,function(){s()}),i.subscribe(a.unfavorited,function(){s()})}}});