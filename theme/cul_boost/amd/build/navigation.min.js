define(["jquery","core/log"],function(v,o){return{init:function(){var i=v(".nav-wrap");if(0<i.length){v('<div id="navigation-anchor"></div>').insertAfter(i);var n=v("#navigation-anchor"),a=v(".navbar"),f=v(".right-navbar").outerHeight();0==v(".right-navbar").length&&(console.log("no right navbar"),f=0);var l=a.outerHeight(),c=v(window).scrollTop();function o(){var o=v(window).scrollTop(),t=n.offset().top,e=a.offset().top+l,s=a.offset().top+l+f,r=i.outerHeight();if(c<o)t=n.offset().top,e=a.offset().top+l,s=a.offset().top+l+f;else t=n.offset().top+n.outerHeight(),e=a.offset().top+l,s=a.offset().top+l+f;t<(c=o)?(i.addClass("stick"),n.css("height",r)):(i.removeClass("stick"),n.css("height",0)),e<o?i.addClass("stuck"):i.removeClass("stuck"),s<o?i.addClass("reveal"):i.removeClass("reveal")}o(),v(window).scroll(o),v(window).resize(function(){o()}),v('a[href="#top"]').click(function(){return v("html, body").animate({scrollTop:0},"slow"),!1})}}}});