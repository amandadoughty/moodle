define(["jquery","core/log"],function(v,o){return{init:function(){var i=v(".nav-wrap");if(0<i.length){v('<div id="navigation-anchor"></div>').insertAfter(i);var n=v("#navigation-anchor"),f=v(".navbar"),l=v(".right-navbar").outerHeight();0==v(".right-navbar").length&&(console.log("no right navbar"),l=0);var c=f.outerHeight(),h=v(window).scrollTop();function o(){var o=v(window).scrollTop(),t=n.offset().top,e=f.offset().top+c,s=f.offset().top+c+l,r=i.outerHeight(),a=v(".fixed-buttons");if(h<o)t=n.offset().top,e=f.offset().top+c,s=f.offset().top+c+l;else t=n.offset().top+n.outerHeight(),e=f.offset().top+c,s=f.offset().top+c+l;t<(h=o)?(i.addClass("stick"),n.css("height",r)):(i.removeClass("stick"),n.css("height",0)),e<o?i.addClass("stuck"):i.removeClass("stuck"),s<o?(i.addClass("reveal"),a.addClass("push")):(i.removeClass("reveal"),a.removeClass("push"))}o(),v(window).scroll(o),v(window).resize(function(){o()}),v('a[href="#top"]').click(function(){return v("html, body").animate({scrollTop:0},"slow"),!1})}}}});