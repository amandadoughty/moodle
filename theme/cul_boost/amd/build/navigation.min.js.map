{"version":3,"sources":["../src/navigation.js"],"names":["define","$","init","navigation","length","sticky_nav","window_top","window","scrollTop","anchorpos","anchor","offset","top","mainnavpos","mainnav","bottom","reveal","rightnav","anchorheight","outerHeight","fixedbuttons","position","addClass","css","removeClass","insertAfter","scroll","resize","click","animate"],"mappings":"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","sourcesContent":["/* jshint ignore:start */\ndefine(['jquery', 'core/log'], function($, log) {\n    return {\n        init: function() {\n\n            var navigation = $('.nav-wrap');\n\n            if (navigation.length > 0) {\n\n                // Insert navigation placeholder element\n                $('<div id=\"navigation-anchor\"></div>').insertAfter(navigation);\n\n                var anchor = $('#navigation-anchor');\n                var mainnav = $('.topmenu');\n                \n                var rightnav = $('.right-navbar').outerHeight();\n\n                if ($('.right-navbar').length == 0) {\n                    rightnav = 0;\n                }\n                \n                var bottom = mainnav.outerHeight();\n                var position = $(window).scrollTop();\n\n                // Sticky navigation\n                function sticky_nav() {\n\n                    var window_top = $(window).scrollTop();\n                    var anchorpos = anchor.offset().top;\n                    var mainnavpos = mainnav.offset().top + bottom;\n                    var reveal = bottom + rightnav;\n                    var anchorheight = navigation.outerHeight();\n                    var fixedbuttons = $('.fixed-buttons');\n\n                    if (window_top > position) {\n                        var anchorpos = anchor.offset().top;\n                        var mainnavpos = mainnav.offset().top + bottom;\n                        var reveal = bottom + rightnav;\n                    } else {\n                        var anchorpos = anchor.offset().top + anchor.outerHeight();\n                        var mainnavpos = mainnav.offset().top + bottom;\n                        var reveal = bottom + rightnav;\n                    }\n\n                    position = window_top;\n\n                    if (window_top > anchorpos) {\n                        navigation.addClass('stick');\n                        anchor.css('height', anchorheight);\n                    } else {\n                        navigation.removeClass('stick');\n                        anchor.css('height', 0);\n                    }\n\n                    if (window_top > mainnavpos) {\n                        navigation.addClass('stuck');\n                    } else {\n                        navigation.removeClass('stuck');\n                    }\n\n                    if (window_top > reveal) {\n                        navigation.addClass('reveal');\n                        fixedbuttons.addClass('push');\n                    } else {\n                        navigation.removeClass('reveal');\n                        fixedbuttons.removeClass('push');\n                    }\n\n                }\n\n                sticky_nav();\n\n                $(window).scroll(sticky_nav);\n\n                $(window).resize(function() {\n                    sticky_nav();\n                });\n\n                // Scroll to top of page\n                $('a[href=\"#top\"]').click(function() {\n                    $('html, body').animate({ scrollTop: 0 }, 'slow');\n                    return false;\n                });\n            }\n\n        }\n    }\n});\n/* jshint ignore:end */"],"file":"navigation.min.js"}