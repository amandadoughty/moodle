define(["jquery","core/log"],function(i,o){return{init:function(){var c=!1;function r(){return i("body").attr("class").match(/course-\d+/)[0]}i(document).on("culcoursesectiontoggle",function(){!function(){var o=localStorage.getItem("scrollPosition-"+r());if(null!==localStorage.getItem("scrollPosition-"+r())){i(".nav-wrap").outerHeight(),o="#"+localStorage.getItem("scrollPosition-"+r());localStorage.setItem("savedscrollPosition-"+r(),o);var t=localStorage.getItem("savedscrollPosition-"+r());i("html, body").animate({scrollTop:i(t).offset().top-55},400)}c=!0}()}),i(window).scroll(function(){if(1==c){var t=i(window).scrollTop(),o=i(".course-content ul.culcourse li.section"),e=o.outerHeight(),l=i(".nav-wrap").outerHeight();o.each(function(){var o=i(this).offset().top-l;o<t&&t<o+e?localStorage.setItem("scrollPosition-"+r(),i(this).attr("id")):t<i(".course-content ul.culcourse #section-0").offset().top-l&&localStorage.setItem("scrollPosition-"+r(),"javascript:void(0);")})}})}}});