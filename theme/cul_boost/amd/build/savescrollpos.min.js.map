{"version":3,"sources":["../src/savescrollpos.js"],"names":["define","$","init","continuescrolling","uniqueClass","attr","match","scroll_to_section","id","localStorage","getItem","nav","outerHeight","setItem","scrollsection","animate","scrollTop","offset","top","document","on","window","scroll","section","sectionheight","each","sectiontop"],"mappings":"AACAA,OAAM,iCAAC,CAAC,QAAD,CAAW,UAAX,CAAD,CAAyB,SAASC,CAAT,CAAiB,CAC5C,MAAO,CACHC,IAAI,CAAE,eAAW,CAEb,GAAIC,CAAAA,CAAiB,GAArB,CAEA,QAASC,CAAAA,CAAT,EAAuB,CACnB,GAAIA,CAAAA,CAAW,CAAGH,CAAC,CAAC,MAAD,CAAD,CAAUI,IAAV,CAAe,OAAf,EAAwBC,KAAxB,CAA8B,YAA9B,EAA4C,CAA5C,CAAlB,CACA,MAAOF,CAAAA,CACV,CAED,QAASG,CAAAA,CAAT,EAA6B,CAEzB,GAAIC,CAAAA,CAAE,CAAGC,YAAY,CAACC,OAAb,CAAqB,kBAAoBN,CAAW,EAApD,CAAT,CAEA,GAAgE,IAA5D,GAAAK,YAAY,CAACC,OAAb,CAAqB,kBAAoBN,CAAW,EAApD,CAAJ,CAAsE,IAC9DO,CAAAA,CAAG,CAAGV,CAAC,CAAC,WAAD,CAAD,CAAeW,WAAf,EADwD,CAE9DJ,CAAE,CAAG,IAAMC,YAAY,CAACC,OAAb,CAAqB,kBAAoBN,CAAW,EAApD,CAFmD,CAIlEK,YAAY,CAACI,OAAb,CAAqB,uBAAyBT,CAAW,EAAzD,CAA6DI,CAA7D,EACA,GAAIM,CAAAA,CAAa,CAAGL,YAAY,CAACC,OAAb,CAAqB,uBAAyBN,CAAW,EAAzD,CAApB,CAEAH,CAAC,CAAC,YAAD,CAAD,CAAgBc,OAAhB,CAAwB,CACpBC,SAAS,CAAEf,CAAC,CAACa,CAAD,CAAD,CAAiBG,MAAjB,GAA0BC,GAA1B,CAAgC,EADvB,CAAxB,CAEG,GAFH,CAGH,CAEDf,CAAiB,GACpB,CAEDF,CAAC,CAACkB,QAAD,CAAD,CAAYC,EAAZ,CAAe,wBAAf,CAAyC,UAAW,CAChDb,CAAiB,EACpB,CAFD,EAIAN,CAAC,CAACoB,MAAD,CAAD,CAAUC,MAAV,CAAiB,UAAW,CAExB,GAAI,IAAAnB,CAAJ,CAA+B,IACvBmB,CAAAA,CAAM,CAAGrB,CAAC,CAACoB,MAAD,CAAD,CAAUL,SAAV,EADc,CAEvBO,CAAO,CAAGtB,CAAC,CAAC,yCAAD,CAFY,CAGvBuB,CAAa,CAAGD,CAAO,CAACX,WAAR,EAHO,CAIvBD,CAAG,CAAGV,CAAC,CAAC,WAAD,CAAD,CAAeW,WAAf,EAJiB,CAK3BW,CAAO,CAACE,IAAR,CAAa,UAAW,CACpB,GAAIC,CAAAA,CAAU,CAAGzB,CAAC,CAAC,IAAD,CAAD,CAAQgB,MAAR,GAAiBC,GAAjB,CAAuBP,CAAxC,CACA,GAAIW,CAAM,CAAGI,CAAT,EACAJ,CAAM,CAAII,CAAU,CAAGF,CAD3B,CAC2C,CACvCf,YAAY,CAACI,OAAb,CAAqB,kBAAoBT,CAAW,EAApD,CAAwDH,CAAC,CAAC,IAAD,CAAD,CAAQI,IAAR,CAAa,IAAb,CAAxD,CACH,CAHD,IAGO,IAAIiB,CAAM,CAAIrB,CAAC,CAAC,yCAAD,CAAD,CAA6CgB,MAA7C,GAAsDC,GAAtD,CAA4DP,CAA1E,CAAgF,CACnFF,YAAY,CAACI,OAAb,CAAqB,kBAAoBT,CAAW,EAApD,CAAwD,qBAAxD,CACH,CACJ,CARD,CASH,CAEJ,CAlBD,CAoBH,CArDE,CAuDV,CAxDK,CAAN","sourcesContent":["/* jshint ignore:start */\ndefine(['jquery', 'core/log'], function($, log) {\n    return {\n        init: function() {\n\n            var continuescrolling = false;\n\n            function uniqueClass() {\n                var uniqueClass = $('body').attr('class').match(/course-\\d+/)[0];\n                return uniqueClass;\n            }\n\n            function scroll_to_section() {\n\n                var id = localStorage.getItem('scrollPosition-' + uniqueClass());\n\n                if (localStorage.getItem('scrollPosition-' + uniqueClass()) !== null) {\n                    var nav = $('.nav-wrap').outerHeight();\n                    var id = '#' + localStorage.getItem('scrollPosition-' + uniqueClass());\n\n                    localStorage.setItem('savedscrollPosition-' + uniqueClass(), id);\n                    var scrollsection = localStorage.getItem('savedscrollPosition-' + uniqueClass());\n\n                    $('html, body').animate({\n                        scrollTop: $(scrollsection).offset().top - 55\n                    }, 400);\n                }\n\n                continuescrolling = true;\n            }\n\n            $(document).on('culcoursesectiontoggle', function() {\n                scroll_to_section();\n            });\n\n            $(window).scroll(function() {\n\n                if (continuescrolling == true) {\n                    var scroll = $(window).scrollTop();\n                    var section = $('.course-content ul.culcourse li.section');\n                    var sectionheight = section.outerHeight();\n                    var nav = $('.nav-wrap').outerHeight();\n                    section.each(function() {\n                        var sectiontop = $(this).offset().top - nav;\n                        if (scroll > sectiontop &&\n                            scroll < (sectiontop + sectionheight)) {\n                            localStorage.setItem('scrollPosition-' + uniqueClass(), $(this).attr('id'));\n                        } else if (scroll < ($('.course-content ul.culcourse #section-0').offset().top - nav)) {\n                            localStorage.setItem('scrollPosition-' + uniqueClass(), 'javascript:void(0);');\n                        }\n                    });\n                }\n\n            });\n\n        }\n    }\n});\n/* jshint ignore:end */"],"file":"savescrollpos.min.js"}