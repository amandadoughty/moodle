define ("theme_cul_boost/settingsmenu",["jquery","core/log","core/tree"],function(a){return{init:function init(b){var c=a("#"+b),d=c.children("span").first();d.attr("tabindex",0);var e=a("#block-region-nav-settings");a(document).ajaxComplete(function(){e.css("display","block");var f=a(".tree_item.branch"),g=a(".block_tree.list"),h=g.outerWidth(),i=f.siblings("ul");function b(b){var c=0;b.each(function(){c=a(this).outerHeight()>c?a(this).height():c});b.height(c);g.height(c)}function c(a){var b=a.hasClass("root_node"),c=a.siblings("ul").find(".tree_item.branch"),d=a.parent().siblings(),e=2*a.parents("li.contains_branch").length;if("true"==a.attr("aria-expanded")){e=e-2}c.attr("aria-expanded","false");c.siblings("ul").attr("aria-hidden","true");d.find(".tree_item.branch").attr("aria-expanded","false");d.find(".tree_item.branch").siblings("ul").attr("aria-hidden","true");g.css("width","calc("+h+"px + "+e+"rem")}function d(){var b=a(".tree_item.branch[aria-expanded=\"true\"]"),c=2*b.length;g.css("width","calc("+h+"px + "+c+"rem")}a("a.trigger").on("click",function(){a(this).addClass("open");e.addClass("show");a(".overlay").addClass("show");a("body").addClass("overflow-hidden");var b=e.parents(".right-navbar").hasClass("stick");if(!0!=b){a("html, body").animate({scrollTop:e.offset().top},200)}d();g.animate({scrollTop:0},0)});a(".overlay").on("click",function(){e.removeClass("show");a(this).removeClass("show");a("body").removeClass("overflow-hidden")});a(document).keyup(function(b){if(27==b.keyCode){e.removeClass("show");a(".overlay").removeClass("show");a("body").removeClass("overflow-hidden")}});f.on("click",function(){c(a(this));g.animate({scrollTop:0},0)});b(i);e.css("display","")})}}});
//# sourceMappingURL=settingsmenu.min.js.map
