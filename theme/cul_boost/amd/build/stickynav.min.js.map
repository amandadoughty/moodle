{"version":3,"sources":["../src/stickynav.js"],"names":["define","$","init","each","navbar","insertBefore","position","window","scrollTop","sticky_navbar","anchorwidth","outerWidth","anchorheight","outerHeight","window_top","navigation","navheight","footer","div_top","offset","top","fixed","ifnavreveal","hasClass","removeClass","settings","maxheight","innerHeight","css","scroll","addClass","resize"],"mappings":"AACAA,OAAM,6BAAC,CAAC,QAAD,CAAW,UAAX,CAAD,CAAyB,SAASC,CAAT,CAAiB,CAC5C,MAAO,CACHC,IAAI,CAAE,eAAW,CAGbD,CAAC,CAAC,eAAD,CAAD,CAAmBE,IAAnB,CAAwB,UAAW,CAE/B,GAAIC,CAAAA,CAAM,CAAGH,CAAC,CAAC,IAAD,CAAd,CAEAA,CAAC,CAAC,kCAAD,CAAD,CAAoCI,YAApC,CAAiDD,CAAjD,EAEA,GAAIE,CAAAA,CAAQ,CAAGL,CAAC,CAACM,MAAD,CAAD,CAAUC,SAAV,EAAf,CAEA,QAASC,CAAAA,CAAT,EAAyB,IAEjBC,CAAAA,CAAW,CAAGN,CAAM,CAACO,UAAP,EAFG,CAGjBC,CAAY,CAAGR,CAAM,CAACS,WAAP,EAHE,CAIjBC,CAAU,CAAGb,CAAC,CAACM,MAAD,CAAD,CAAUC,SAAV,EAJI,CAKjBO,CAAU,CAAGd,CAAC,CAAC,WAAD,CALG,CAMjBe,CAAS,CAAGD,CAAU,CAACF,WAAX,EANK,CAOjBI,CAAM,CAAGhB,CAAC,CAAC,sBAAD,CAAD,CAA0BY,WAA1B,EAPQ,CASjBK,CAAO,CAAGjB,CAAC,CAAC,gBAAD,CAAD,CAAoBkB,MAApB,GAA6BC,GATtB,CAUjBC,CAAK,CAAG,EAVS,CAYrB,QAASC,CAAAA,CAAT,EAAuB,CACnB,GAAIP,CAAU,CAACQ,QAAX,CAAoB,QAApB,CAAJ,CAAmC,CAC/BL,CAAO,CAAGjB,CAAC,CAAC,gBAAD,CAAD,CAAoBkB,MAApB,GAA6BC,GAA7B,CAAmCJ,CAA7C,CACAK,CAAK,CAAG,QACX,CAHD,IAGO,CACHjB,CAAM,CAACoB,WAAP,CAAmB,OAAnB,CACH,CACJ,CAaDF,CAAW,GACX,CAZA,UAA0B,IAClBG,CAAAA,CAAQ,CAAGxB,CAAC,CAAC,kBAAD,CADM,CAElByB,CAAS,CAAGzB,CAAC,CAACM,MAAD,CAAD,CAAUoB,WAAV,IAA2Bf,CAAY,CAAG,EAA1C,EAAgDK,CAF1C,CAItB,GAAIF,CAAU,CAACQ,QAAX,CAAoB,QAApB,CAAJ,CAAmC,CAC/B,GAAIG,CAAAA,CAAS,CAAGzB,CAAC,CAACM,MAAD,CAAD,CAAUoB,WAAV,IAA2Bf,CAAY,CAAGI,CAAf,CAA2B,EAAtD,EAA4DC,CAC/E,CAEDQ,CAAQ,CAACG,GAAT,CAAa,YAAb,CAA2BF,CAA3B,CACH,CAGD,IAEA,GAAIG,CAAAA,CAAM,CAAG5B,CAAC,CAACM,MAAD,CAAD,CAAUC,SAAV,EAAb,CAEA,GAAIqB,CAAM,CAAGvB,CAAb,CAAuB,CACnBgB,CAAW,EACd,CAFD,IAEO,CACHA,CAAW,EACd,CAEDhB,CAAQ,CAAGuB,CAAX,CAEA,GAAIf,CAAU,CAAGI,CAAjB,CAA0B,CACtBd,CAAM,CAAC0B,QAAP,CAAgB,QAAUT,CAA1B,EACApB,CAAC,CAAC,gBAAD,CAAD,CAAoB2B,GAApB,CAAwB,CACpB,OAAUhB,CADU,CAEpB,MAASF,CAFW,CAAxB,CAIH,CAND,IAMO,CACHN,CAAM,CAACoB,WAAP,CAAmB,QAAUH,CAA7B,EACApB,CAAC,CAAC,gBAAD,CAAD,CAAoB2B,GAApB,CAAwB,QAAxB,CAAkC,GAAlC,CACH,CACJ,CAEDnB,CAAa,GAEbR,CAAC,CAACM,MAAD,CAAD,CAAUsB,MAAV,CAAiBpB,CAAjB,EAEAR,CAAC,CAACM,MAAD,CAAD,CAAUwB,MAAV,CAAiB,UAAW,CACxBtB,CAAa,EAChB,CAFD,CAIH,CAzED,CA2EH,CA/EE,CAiFV,CAlFK,CAAN","sourcesContent":["/* jshint ignore:start */\ndefine(['jquery', 'core/log'], function($, log) {\n    return {\n        init: function() {\n\n            // Sticky Menu\n            $('.right-navbar').each(function() {\n\n                var navbar = $(this);\n\n                $('<div id=\"navbar-anchor\"></div>').insertBefore(navbar);\n\n                var position = $(window).scrollTop();\n\n                function sticky_navbar() {\n\n                    var anchorwidth = navbar.outerWidth();\n                    var anchorheight = navbar.outerHeight();\n                    var window_top = $(window).scrollTop();\n                    var navigation = $('.nav-wrap');\n                    var navheight = navigation.outerHeight();\n                    var footer = $('#settingsnav+.footer').outerHeight();\n\n                    var div_top = $('#navbar-anchor').offset().top;\n                    var fixed = '';\n\n                    function ifnavreveal() {\n                        if (navigation.hasClass('reveal')) {\n                            div_top = $('#navbar-anchor').offset().top - navheight;\n                            fixed = ' fixed';\n                        } else {\n                            navbar.removeClass('fixed');\n                        }\n                    }\n\n                    function settingsheight() {\n                        var settings = $('.block_tree.list');\n                        var maxheight = $(window).innerHeight() - (anchorheight + 20) - footer;\n\n                        if (navigation.hasClass('reveal')) {\n                            var maxheight = $(window).innerHeight() - (anchorheight + navheight + 20) - footer;\n                        }\n\n                        settings.css('max-height', maxheight);\n                    }\n\n                    ifnavreveal();\n                    settingsheight();\n\n                    var scroll = $(window).scrollTop();\n\n                    if (scroll > position) {\n                        ifnavreveal();\n                    } else {\n                        ifnavreveal();\n                    }\n\n                    position = scroll;\n\n                    if (window_top > div_top) {\n                        navbar.addClass('stick' + fixed);\n                        $('#navbar-anchor').css({\n                            'height': anchorheight,\n                            'width': anchorwidth\n                        });\n                    } else {\n                        navbar.removeClass('stick' + fixed);\n                        $('#navbar-anchor').css('height', '0');\n                    }\n                }\n\n                sticky_navbar();\n\n                $(window).scroll(sticky_navbar);\n\n                $(window).resize(function() {\n                    sticky_navbar();\n                });\n\n            });\n\n        }\n    }\n});\n/* jshint ignore:end */"],"file":"stickynav.min.js"}