define ("theme_snap/accessibility",["jquery","core/str"],function(a,b){return{init:function init(){b.get_strings([{key:"accesforumstringdis",component:"theme_snap"},{key:"accesforumstringmov",component:"theme_snap"},{key:"calendar",component:"calendar"}]).done(function(b){a("i.fa-calendar").parent().attr("aria-label",b[2]);a("input[name='TimeEventSelector[calendar]']").attr("aria-label",b[2]);if(a("#page-mod-forum-discuss")){a(".displaymode form select.custom-select").attr("aria-label",b[0]);a(".movediscussion select.urlselect").attr("aria-label",b[1])}});a(document).ready(function(){new c("snap-pm-accessible-tab");new c("modchooser-accessible-tab")});function c(b){this._id=b;this.$tpanel=a("#"+b);this.$tabs=this.$tpanel.find(".tab");this.$panels=this.$tpanel.find(".tab-pane");this.bindHandlers();this.init()}c.prototype.keys={left:37,up:38,right:39,down:40};c.prototype.init=function(){var a;this.$panels.attr("aria-hidden","true");this.$panels.removeClass("active in");a=this.$tabs.filter(".active");if(a===void 0){a=this.$tabs.first();a.addClass("active")}this.$tpanel.find("#"+a.find("a").attr("aria-controls")).addClass("active in").attr("aria-hidden","false")};c.prototype.switchTabs=function(a,b){var c=a.find("a"),d=b.find("a");a.removeClass("active");c.attr("tabindex","-1").attr("aria-selected","false");b.addClass("active");d.attr("aria-selected","true");this.$tpanel.find("#"+c.attr("aria-controls")).removeClass("active in").attr("aria-hidden","true");this.$tpanel.find("#"+d.attr("aria-controls")).addClass("active in").attr("aria-hidden","false");d.attr("tabindex","0");d.focus()};c.prototype.bindHandlers=function(){var b=this;this.$tabs.keydown(function(c){return b.handleTabKeyDown(a(this),c)});this.$tabs.click(function(c){return b.handleTabClick(a(this),c)})};c.prototype.handleTabKeyDown=function(a,b){var c,d;switch(b.keyCode){case this.keys.left:case this.keys.up:{d=this.$tabs.index(a);if(0===d){c=this.$tabs.last()}else{c=this.$tabs.eq(d-1)}this.switchTabs(a,c);b.preventDefault();return!1}case this.keys.right:case this.keys.down:{d=this.$tabs.index(a);if(d===this.$tabs.length-1){c=this.$tabs.first()}else{c=this.$tabs.eq(d+1)}this.switchTabs(a,c);b.preventDefault();return!1}}};c.prototype.handleTabClick=function(a){var b=this.$tpanel.find(".tab.active");this.switchTabs(b,a)}}}});
//# sourceMappingURL=accessibility.min.js.map
